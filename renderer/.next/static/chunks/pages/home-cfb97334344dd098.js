(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{84378:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return s(17428)}])},37911:function(e,t,s){"use strict";s.d(t,{r:function(){return fetchJson}});let ApiError=class ApiError extends Error{constructor(e,t){super("".concat(e," returned ").concat(t)),Error.captureStackTrace&&Error.captureStackTrace(this,ApiError),this.name="ApiError",this.status=t}};async function fetchJson(e,t){let s=await fetch(e,t);if(!s.ok)throw new ApiError(e,s.status);return await s.json()}},17428:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return NextPage}});var r=s(24246),i=s(27378),n=s(99582),l=s(48315),o=s(89857),a=s(4312),c=s(85486),d=s(80114),u=s(76676),h=s.n(u),j=s(18705),x=s(29858),g=s(5041),m=s(58946),f=s(74105),y=s(95559),Z=s(63751),p=s(8203),S=s(80399),w=s(63911),k=s(68404),E=s(37911),O=s(86677);let{Text:R}=o.default;function LoginForm(){let[e,t]=(0,i.useState)(!1),[s,o]=d.ZP.useMessage(),[a,u]=i.useState(!1),[F,T]=(0,i.useState)(),[I,N]=(0,i.useState)(!1);(0,O.useRouter)(),(0,i.useEffect)(()=>{let e=localStorage.getItem("isLogin");if("true"===e){t(!0);let e=JSON.parse(localStorage.getItem("profile"));T(e.id.split("@")[0])}},[]);let[_]=g.Z.useForm();return(0,r.jsx)(j.ZP,{style:{marginTop:"32px"},children:(0,r.jsxs)(x.Z,{hoverable:!0,style:{width:450,height:280},bordered:!0,children:[!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Z,{gutter:8,justify:"center",align:"middle",style:{marginBottom:10},children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(Z.Z,{})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{strong:!0,style:{fontSize:14,fontFamily:"RussoOne-Regular",fontStyle:"italic"},children:"LOGIN"})})]}),(0,r.jsxs)(g.Z,{form:_,style:{maxWidth:700,fontStyle:"italic"},onFinish:e=>{s.loading("로그인을 진행합니다..."),u(!0),(0,E.r)("/api/kream_login",{method:"POST",body:JSON.stringify(e)}).then(s=>{if(s.success)u(!1),localStorage.setItem("isLogin","true"),localStorage.setItem("token",s.data),localStorage.setItem("profile",JSON.stringify(e)),t(!0),T(e.id.split("@")[0]),N(!1);else{u(!1),N(!0);return}})},children:[(0,r.jsx)(n.Z,{justify:"center",children:(0,r.jsx)(g.Z.Item,{name:"id",label:"Email",labelCol:{span:8},wrapperCol:{span:19},rules:[{required:!0,whitespace:!0,message:"아이디를 입력해주세요."}],style:{marginRight:25},children:(0,r.jsx)(f.Z,{size:"small",style:{width:197}})})}),(0,r.jsx)(n.Z,{justify:"center",children:(0,r.jsx)(g.Z.Item,{name:"pswd",labelCol:{span:8},wrapperCol:{span:19},label:"Password",rules:[{required:!0,whitespace:!0,message:"패스워드를 입력해주세요."}],style:{marginRight:23},children:(0,r.jsx)(f.Z.Password,{size:"small",style:{width:"200px"}})})}),(0,r.jsx)(n.Z,{justify:"center",children:(0,r.jsx)(g.Z.Item,{name:"platform",rules:[{whitespace:!0}],children:(0,r.jsx)(m.ZP.Group,{defaultValue:"kream",children:(0,r.jsx)(m.ZP,{value:"kream",children:(0,r.jsxs)(n.Z,{align:"middle",gutter:3,children:[(0,r.jsx)(l.Z,{children:(0,r.jsx)(c.Z,{src:"/images/kream.png",width:18,preview:!1})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{style:{fontSize:"11px",fontFamily:"RussoOne-Regular"},children:"KREAM"})})]})})})})}),(0,r.jsx)(g.Z.Item,{children:(0,r.jsxs)(n.Z,{gutter:10,justify:"center",style:{marginTop:"5px"},children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(h(),{type:"primary",htmlType:"submit",icon:(0,r.jsx)(y.Z,{twoToneColor:"#45474B"}),children:["로그인",a&&(0,r.jsx)(p.default,{})]})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(h(),{htmlType:"button",onClick:()=>{_.resetFields()},icon:(0,r.jsx)(S.Z,{twoToneColor:"#45474B"}),children:"초기화"})})]})})]}),I&&(0,r.jsx)(n.Z,{justify:"center",align:"middle",gutter:3,children:(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{style:{fontSize:11,color:"#D71313"},children:"※ 로그인 실패, 아이디, 패스워드, 네트워크 상태를 확인해주세요."})})})]}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Z,{gutter:10,align:"middle",justify:"center",style:{marginBottom:55},children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(Z.Z,{})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{strong:!0,style:{fontSize:14,fontFamily:"RussoOne-Regular",fontStyle:"italic"},children:"LOGIN INFO"})})]}),(0,r.jsxs)(n.Z,{align:"middle",gutter:8,justify:"center",style:{marginTop:"34px"},children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(n.Z,{gutter:10,align:"middle",justify:"center",children:[(0,r.jsx)(l.Z,{children:(0,r.jsx)(w.Z,{})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{strong:!0,style:{fontSize:14,fontFamily:"RussoOne-Regular",fontStyle:"italic"},children:"username:"})})]})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(R,{strong:!0,style:{fontSize:18,fontFamily:"RussoOne-Regular",fontStyle:"italic",color:"#CD5C08"},children:F})})]}),(0,r.jsx)(n.Z,{justify:"center",style:{marginTop:34},children:(0,r.jsx)(h(),{type:"primary",style:{fontSize:14,marginTop:20},icon:(0,r.jsx)(k.Z,{}),onClick:()=>{t(!1),localStorage.setItem("isLogin","false"),localStorage.removeItem("token")},children:"로그아웃"})})]})]})})}let{Text:F}=o.default;function NextPage(){let[e,t]=i.useState(!1),[s,o]=d.ZP.useMessage();return(0,r.jsxs)(r.Fragment,{children:[o,(0,r.jsxs)(n.Z,{gutter:5,align:"middle",justify:"center",children:[(0,r.jsx)(l.Z,{children:(0,r.jsx)(c.Z,{src:"/images/kream.png",width:20,preview:!1})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(F,{strong:!0,style:{fontSize:15,fontFamily:"RussoOne-Regular",fontStyle:"italic"},children:"HOME"})})]}),(0,r.jsx)(a.Z,{}),(0,r.jsx)(n.Z,{justify:"center",gutter:12,children:(0,r.jsx)(l.Z,{children:(0,r.jsx)(LoginForm,{})})})]})}}},function(e){e.O(0,[581,403,774,888,179],function(){return e(e.s=84378)}),_N_E=e.O()}]);