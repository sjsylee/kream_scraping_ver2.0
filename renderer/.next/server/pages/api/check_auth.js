"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/check_auth";
exports.ids = ["pages/api/check_auth"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck_auth&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck_auth.ts&middlewareConfigBase64=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck_auth&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck_auth.ts&middlewareConfigBase64=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/../node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/../node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/check_auth.ts */ \"(api)/./pages/api/check_auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/check_auth\",\n        pathname: \"/api/check_auth\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_check_auth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaW5kZXguanM/a2luZD1QQUdFU19BUEkmcGFnZT0lMkZhcGklMkZjaGVja19hdXRoJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZjaGVja19hdXRoLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxxREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMscURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLz82YTZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvY2hlY2tfYXV0aC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoZWNrX2F1dGhcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGVja19hdXRoXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck_auth&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck_auth.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/kream_axios.ts":
/*!****************************!*\
  !*** ./lib/kream_axios.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   check_auth: () => (/* binding */ check_auth),\n/* harmony export */   get_final_data: () => (/* binding */ get_final_data),\n/* harmony export */   get_first_data: () => (/* binding */ get_first_data),\n/* harmony export */   get_first_data_with_kwd: () => (/* binding */ get_first_data_with_kwd),\n/* harmony export */   get_option_sales_data: () => (/* binding */ get_option_sales_data),\n/* harmony export */   ilban_req: () => (/* binding */ ilban_req),\n/* harmony export */   login: () => (/* binding */ login)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst DEVICE_IDS = [\n    \"web;f4384a74-2407-413f-9a44-bd73e758cbed\",\n    \"web;fe697138-677f-43aa-96e5-20587052e56c\",\n    \"web;84d0153f-dc09-4cc8-8b74-8db9ddd0e284\"\n];\nconst kream_api = ()=>{\n    let today = new Date();\n    let month = today.getMonth() + 1;\n    let day = today.getDate();\n    let hour = today.getHours();\n    let minute = today.getMinutes();\n    let second = today.getSeconds();\n    month = month >= 10 ? month : \"0\" + month;\n    day = day >= 10 ? day : \"0\" + day;\n    hour = hour >= 10 ? hour : \"0\" + hour;\n    minute = minute >= 10 ? minute : \"0\" + minute;\n    second = second >= 10 ? second : \"0\" + second;\n    return {\n        \"X-Kream-Api-Version\": \"28\",\n        \"X-Kream-Client-Datetime\": `${today.getFullYear()}${month}${day}${hour}${minute}${second}+0900`,\n        \"X-Kream-Web-Build-Version\": \"5.1.1\",\n        \"X-Kream-Device-Id\": DEVICE_IDS[Math.floor(Math.random() * DEVICE_IDS.length)]\n    };\n};\nasync function login(id, pswd) {\n    const r_q = await get_new_rq_key();\n    const login_url = `https://kream.co.kr/api/auth/login?request_key=${r_q}`;\n    const data = {\n        email: id,\n        password: pswd\n    };\n    const kream_api_headers = kream_api();\n    const result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(login_url, JSON.stringify(data), {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            \"Content-Type\": `application/json`,\n            ...kream_api_headers,\n            Referer: \"https://kream.co.kr/login\"\n        }\n    });\n    const access_token = result.data[\"access_token\"];\n    console.log(access_token);\n    return access_token;\n}\nasync function ilban_req(token, product_id, opt, price) {\n    const no_url = \"https://kream.co.kr/api/m/asks\";\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    // ------------------------------ 배송 주소 추출 ---------------------------------------\n    const ship_result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://kream.co.kr/api/users/me?request_key=${r_q}`, {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            ...kream_api_headers,\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const shipping_address = ship_result.data[\"shipping_address\"][\"id\"];\n    console.log(opt);\n    // ------------------------------ 일반 입찰 ---------------------------------------\n    const no_result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(no_url, JSON.stringify({\n        expires_in: 30,\n        is_instant: false,\n        product_id: product_id,\n        option: opt.toString(),\n        price: price,\n        shipping_address_id: shipping_address,\n        receipt_config_id: null,\n        request_key: r_q,\n        is_keep_on_deferred: false,\n        shipping_memo: {\n            ask_id: null,\n            bid_id: null,\n            is_default: true,\n            shipping_memo_type: 0,\n            description: \"요청사항 없음\",\n            preset_display_type: \"selectable\",\n            view_type_validation: {}\n        }\n    }), {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            ...kream_api_headers,\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n            Referer: `https://kream.co.kr/sell/${product_id}?size=${opt}`\n        }\n    });\n    return no_result.data;\n}\nasync function get_new_rq_key() {\n    const r = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://kream.co.kr\", {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\"\n        }\n    });\n    const cookie_list = r.headers[\"set-cookie\"];\n    const did = cookie_list.filter((r)=>r.includes(\"did\"))[0];\n    const f_did = did.split(\"=\")[1].split(\";\")[0];\n    return f_did;\n}\nasync function check_auth(token) {\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://kream.co.kr/api/users/me?request_key=${r_q}`, {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            ...kream_api_headers,\n            Authorization: `Bearer ${token}`\n        }\n    });\n    return;\n}\nasync function get_first_data(token, page_num, search_type) {\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    const t_url = `https://kream.co.kr/api/p/tabs/all`;\n    let params = {\n        request_key: r_q,\n        cursor: page_num,\n        sort: search_type\n    };\n    if (search_type === \"popularity_without_trading\") {\n        params = {\n            request_key: r_q,\n            cursor: page_num\n        };\n    }\n    const f_result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(t_url, {\n        params: params,\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            \"Content-Type\": `application/json`,\n            ...kream_api_headers,\n            Referer: \"https://kream.co.kr/search\",\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const f_items = f_result.data[\"items\"];\n    const f_r_d = f_items.map((d)=>{\n        const prd_d = d[\"product\"];\n        try {\n            return {\n                상품번호: prd_d[\"release\"][\"id\"],\n                상품명: prd_d[\"release\"][\"translated_name\"],\n                컬러: prd_d[\"release\"][\"colorway\"],\n                링크: `https://kream.co.kr/products/${prd_d[\"release\"][\"id\"]}`,\n                모델명: prd_d[\"release\"][\"style_code\"],\n                사이즈: \"\",\n                발매가: prd_d[\"release\"][\"original_price_with_currency\"],\n                일판평균가_5개: \"\",\n                보판평균가_5개: \"\",\n                일판평균가_10개: \"\",\n                보판평균가_10개: \"\",\n                \"수집범위/날짜범위_10개\": \"\",\n                \"수집범위/날짜범위_50개\": \"\",\n                최저_보판가: \"\",\n                최저_95점_보판가: \"\",\n                최저_일판가: \"\",\n                즉시_판매가: \"\"\n            };\n        } catch  {\n            return null;\n        }\n    });\n    return f_r_d.filter((d)=>d !== null);\n}\nasync function get_first_data_with_kwd(token, page_num, kwd) {\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    const t_url = `https://kream.co.kr/api/se/products/?keyword=${kwd}&request_key=${r_q}&tab=products&cursor=${page_num}`;\n    // const params: any = {\n    //   request_key: r_q,\n    //   cursor: page_num,\n    //   tab: \"products\",\n    //   keyword: kwd,\n    // };\n    const f_result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(t_url, {\n        // params: params,\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            \"Content-Type\": `application/json`,\n            ...kream_api_headers,\n            Referer: \"https://kream.co.kr/search\",\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const f_items = f_result.data[\"items\"];\n    const f_r_d = f_items.map((d)=>{\n        const prd_d = d[\"product\"];\n        try {\n            return {\n                상품번호: prd_d[\"release\"][\"id\"],\n                상품명: prd_d[\"release\"][\"translated_name\"],\n                컬러: prd_d[\"release\"][\"colorway\"],\n                링크: `https://kream.co.kr/products/${prd_d[\"release\"][\"id\"]}`,\n                모델명: prd_d[\"release\"][\"style_code\"],\n                사이즈: \"\",\n                발매가: prd_d[\"release\"][\"original_price_with_currency\"],\n                일판평균가_5개: \"\",\n                보판평균가_5개: \"\",\n                일판평균가_10개: \"\",\n                보판평균가_10개: \"\",\n                \"수집범위/날짜범위_10개\": \"\",\n                \"수집범위/날짜범위_50개\": \"\",\n                최저_보판가: \"\",\n                최저_95점_보판가: \"\",\n                최저_일판가: \"\",\n                즉시_판매가: \"\"\n            };\n        } catch  {\n            return null;\n        }\n    });\n    return f_r_d.filter((d)=>d !== null);\n}\nasync function get_final_data(token, product_id) {\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    const t_url = `https://kream.co.kr/api/p/products/${product_id}?request_key=${r_q}`;\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(t_url, {\n        headers: {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n            ...kream_api_headers,\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const sales_options = res.data[\"sales_options\"];\n    if (!sales_options) {\n        return [\n            {\n                사이즈: \"X\",\n                최저_보판가: \"X\",\n                최저_95점_보판가: \"X\",\n                최저_일판가: \"X\",\n                즉시_판매가: \"X\"\n            }\n        ];\n    }\n    let return_data = [];\n    for (let d of sales_options){\n        let extra_dat = await get_option_sales_data(token, product_id, d[\"option\"]);\n        const today = new Date();\n        let mean5N;\n        let mean5B;\n        let mean10N;\n        let mean10B;\n        let numDate10;\n        let numDate50;\n        if (extra_dat.length === 0) {} else if (Math.ceil(Math.abs(today - new Date(extra_dat[0][\"date_created\"])) / (1000 * 60 * 60 * 24)) > 30) {} else {\n            if (extra_dat.length >= 5) {\n                const prices_5_N = extra_dat.filter((d, i)=>i < 5 && !d[\"is_immediate_delivery_item\"]);\n                if (prices_5_N.length > 0) {\n                    mean5N = Math.round(prices_5_N.reduce((total, next)=>total + next[\"price\"], 0) / prices_5_N.length);\n                }\n                const prices_5_B = extra_dat.filter((d, i)=>i < 10 && d[\"is_immediate_delivery_item\"]);\n                if (prices_5_B.length > 0) {\n                    mean5B = Math.round(prices_5_B.reduce((total, next)=>total + next[\"price\"], 0) / prices_5_B.length);\n                }\n            }\n            if (extra_dat.length >= 10) {\n                const prices_10_N = extra_dat.filter((d, i)=>i < 10 && !d[\"is_immediate_delivery_item\"]);\n                if (prices_10_N.length > 0) {\n                    mean10N = Math.round(prices_10_N.reduce((total, next)=>total + next[\"price\"], 0) / prices_10_N.length);\n                }\n                const prices_10_B = extra_dat.filter((d, i)=>i < 10 && d[\"is_immediate_delivery_item\"]);\n                if (prices_10_B.length > 0) {\n                    mean10B = Math.round(prices_10_B.reduce((total, next)=>total + next[\"price\"], 0) / prices_10_B.length);\n                }\n                const diff_10 = Math.ceil(Math.abs(today - new Date(extra_dat[9][\"date_created\"])) / (1000 * 60 * 60 * 24));\n                numDate10 = 30 / diff_10;\n            }\n            if (extra_dat.length >= 50) {\n                const diff_50 = Math.ceil(Math.abs(today - new Date(extra_dat[49][\"date_created\"])) / (1000 * 60 * 60 * 24));\n                numDate50 = 50 / diff_50;\n            }\n        }\n        return_data.push({\n            사이즈: d[\"option\"],\n            일판평균가_5개: Math.round(mean5N / 1000) * 1000,\n            보판평균가_5개: Math.round(mean5B / 1000) * 1000,\n            일판평균가_10개: Math.round(mean10N / 1000) * 1000,\n            보판평균가_10개: Math.round(mean10B / 1000) * 1000,\n            \"수집범위/날짜범위_10개\": Math.round(numDate10 * 10) / 10,\n            \"수집범위/날짜범위_50개\": Math.round(numDate50 * 10) / 10,\n            최저_보판가: d[\"lowest_100\"],\n            최저_95점_보판가: d[\"lowest_95\"],\n            최저_일판가: d[\"lowest_normal\"],\n            즉시_판매가: d[\"highest_bid\"]\n        });\n        await sleep(2000);\n    }\n    return return_data;\n}\nasync function get_option_sales_data(token, product_id, option) {\n    const total = [];\n    const r_q = await get_new_rq_key();\n    const kream_api_headers = kream_api();\n    const t_url = `https://kream.co.kr/api/p/products/${product_id}/${option}/sales`;\n    let go = true;\n    for(let i = 1; i < 2; i++){\n        console.log(i);\n        const params = {\n            cursor: i,\n            per_page: 70,\n            sort: \"date_created[desc]\",\n            request_key: r_q\n        };\n        while(true){\n            try {\n                const f_result = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(t_url, {\n                    params: params,\n                    headers: {\n                        \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\",\n                        \"Content-Type\": `application/json`,\n                        ...kream_api_headers,\n                        Referer: `https://kream.co.kr/products/${product_id}`,\n                        Authorization: `Bearer ${token}`\n                    }\n                });\n                const f_items = f_result.data[\"items\"];\n                total.push(...f_items);\n                await sleep(1000);\n                break;\n            } catch (e) {\n                try {\n                    if (e.response.data[\"message\"].includes(\"was not found\")) {\n                        console.log(e.response.statusText);\n                        go = false;\n                        break;\n                    }\n                    if (e.response.statusText.includes(\"MANY\")) {\n                        console.log(e.response.statusText);\n                        console.log(\"1분 대기...\");\n                        await sleep(60000);\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n        }\n        await sleep(2000);\n        if (!go) {\n            break;\n        }\n    }\n    return total;\n}\nconst sleep = (delay)=>new Promise((resolve)=>setTimeout(resolve, delay));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzRDLFFBQVEsQ0FBQyxrQkFBa0I7d0JBQ3hEakMsUUFBUUMsR0FBRyxDQUFDK0YsRUFBRUMsUUFBUSxDQUFDQyxVQUFVO3dCQUNqQ0osS0FBSzt3QkFDTDtvQkFDRjtvQkFFQSxJQUFJRSxFQUFFQyxRQUFRLENBQUNDLFVBQVUsQ0FBQ2pFLFFBQVEsQ0FBQyxTQUFTO3dCQUMxQ2pDLFFBQVFDLEdBQUcsQ0FBQytGLEVBQUVDLFFBQVEsQ0FBQ0MsVUFBVTt3QkFDakNsRyxRQUFRQyxHQUFHLENBQUM7d0JBRVosTUFBTTRGLE1BQU07b0JBQ2Q7Z0JBQ0YsRUFBRSxPQUFPRyxHQUFHO29CQUNWaEcsUUFBUUMsR0FBRyxDQUFDK0Y7Z0JBQ2Q7WUFDRjtRQUNGO1FBQ0EsTUFBTUgsTUFBTTtRQUVaLElBQUksQ0FBQ0MsSUFBSTtZQUNQO1FBQ0Y7SUFDRjtJQUNBLE9BQU9UO0FBQ1Q7QUFFQSxNQUFNUSxRQUFRLENBQUNNLFFBQ2IsSUFBSUMsUUFBUSxDQUFDQyxVQUFZQyxXQUFXRCxTQUFTRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9rcmVhbV9heGlvcy50cz82ZjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7IGxvZywgdGltZSB9IGZyb20gXCJjb25zb2xlXCI7XG5pbXBvcnQgeyBkYXRhQXJyYXkgfSBmcm9tIFwiLi4vdXRpbHMvc2FtcGxlLWFwaVwiO1xuXG5jb25zdCBERVZJQ0VfSURTID0gW1xuICBcIndlYjtmNDM4NGE3NC0yNDA3LTQxM2YtOWE0NC1iZDczZTc1OGNiZWRcIixcbiAgXCJ3ZWI7ZmU2OTcxMzgtNjc3Zi00M2FhLTk2ZTUtMjA1ODcwNTJlNTZjXCIsXG4gIFwid2ViOzg0ZDAxNTNmLWRjMDktNGNjOC04Yjc0LThkYjlkZGQwZTI4NFwiLFxuXTtcblxuY29uc3Qga3JlYW1fYXBpID0gKCkgPT4ge1xuICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBsZXQgbW9udGg6IHN0cmluZyB8IG51bWJlciA9IHRvZGF5LmdldE1vbnRoKCkgKyAxO1xuICBsZXQgZGF5OiBzdHJpbmcgfCBudW1iZXIgPSB0b2RheS5nZXREYXRlKCk7XG4gIGxldCBob3VyOiBzdHJpbmcgfCBudW1iZXIgPSB0b2RheS5nZXRIb3VycygpO1xuICBsZXQgbWludXRlOiBzdHJpbmcgfCBudW1iZXIgPSB0b2RheS5nZXRNaW51dGVzKCk7XG4gIGxldCBzZWNvbmQ6IHN0cmluZyB8IG51bWJlciA9IHRvZGF5LmdldFNlY29uZHMoKTtcblxuICBtb250aCA9IG1vbnRoID49IDEwID8gbW9udGggOiBcIjBcIiArIG1vbnRoO1xuICBkYXkgPSBkYXkgPj0gMTAgPyBkYXkgOiBcIjBcIiArIGRheTtcbiAgaG91ciA9IGhvdXIgPj0gMTAgPyBob3VyIDogXCIwXCIgKyBob3VyO1xuICBtaW51dGUgPSBtaW51dGUgPj0gMTAgPyBtaW51dGUgOiBcIjBcIiArIG1pbnV0ZTtcbiAgc2Vjb25kID0gc2Vjb25kID49IDEwID8gc2Vjb25kIDogXCIwXCIgKyBzZWNvbmQ7XG5cbiAgcmV0dXJuIHtcbiAgICBcIlgtS3JlYW0tQXBpLVZlcnNpb25cIjogXCIyOFwiLFxuICAgIFwiWC1LcmVhbS1DbGllbnQtRGF0ZXRpbWVcIjogYCR7dG9kYXkuZ2V0RnVsbFllYXIoKX0ke21vbnRofSR7ZGF5fSR7aG91cn0ke21pbnV0ZX0ke3NlY29uZH0rMDkwMGAsXG4gICAgXCJYLUtyZWFtLVdlYi1CdWlsZC1WZXJzaW9uXCI6IFwiNS4xLjFcIixcbiAgICBcIlgtS3JlYW0tRGV2aWNlLUlkXCI6XG4gICAgICBERVZJQ0VfSURTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIERFVklDRV9JRFMubGVuZ3RoKV0sXG4gIH07XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4oaWQ6IHN0cmluZywgcHN3ZDogc3RyaW5nKSB7XG4gIGNvbnN0IHJfcSA9IGF3YWl0IGdldF9uZXdfcnFfa2V5KCk7XG4gIGNvbnN0IGxvZ2luX3VybCA9IGBodHRwczovL2tyZWFtLmNvLmtyL2FwaS9hdXRoL2xvZ2luP3JlcXVlc3Rfa2V5PSR7cl9xfWA7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgZW1haWw6IGlkLFxuICAgIHBhc3N3b3JkOiBwc3dkLFxuICB9O1xuICBjb25zdCBrcmVhbV9hcGlfaGVhZGVycyA9IGtyZWFtX2FwaSgpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLnBvc3QobG9naW5fdXJsLCBKU09OLnN0cmluZ2lmeShkYXRhKSwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiVXNlci1BZ2VudFwiOlxuICAgICAgICBcIk1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTQuMC4wLjAgU2FmYXJpLzUzNy4zNlwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogYGFwcGxpY2F0aW9uL2pzb25gLFxuICAgICAgLi4ua3JlYW1fYXBpX2hlYWRlcnMsXG4gICAgICBSZWZlcmVyOiBcImh0dHBzOi8va3JlYW0uY28ua3IvbG9naW5cIixcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgYWNjZXNzX3Rva2VuID0gcmVzdWx0LmRhdGFbXCJhY2Nlc3NfdG9rZW5cIl07XG4gIGNvbnNvbGUubG9nKGFjY2Vzc190b2tlbik7XG5cbiAgcmV0dXJuIGFjY2Vzc190b2tlbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlsYmFuX3JlcShcbiAgdG9rZW46IHN0cmluZyxcbiAgcHJvZHVjdF9pZDogc3RyaW5nLFxuICBvcHQ6IHN0cmluZyxcbiAgcHJpY2U6IG51bWJlclxuKSB7XG4gIGNvbnN0IG5vX3VybCA9IFwiaHR0cHM6Ly9rcmVhbS5jby5rci9hcGkvbS9hc2tzXCI7XG5cbiAgY29uc3Qgcl9xID0gYXdhaXQgZ2V0X25ld19ycV9rZXkoKTtcbiAgY29uc3Qga3JlYW1fYXBpX2hlYWRlcnMgPSBrcmVhbV9hcGkoKTtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOuwsOyGoSDso7zshowg7LaU7LacIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBzaGlwX3Jlc3VsdCA9IGF3YWl0IGF4aW9zLmdldChcbiAgICBgaHR0cHM6Ly9rcmVhbS5jby5rci9hcGkvdXNlcnMvbWU/cmVxdWVzdF9rZXk9JHtyX3F9YCxcbiAgICB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiVXNlci1BZ2VudFwiOlxuICAgICAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgICAgIC4uLmtyZWFtX2FwaV9oZWFkZXJzLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCBzaGlwcGluZ19hZGRyZXNzID0gc2hpcF9yZXN1bHQuZGF0YVtcInNoaXBwaW5nX2FkZHJlc3NcIl1bXCJpZFwiXTtcbiAgY29uc29sZS5sb2cob3B0KTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g7J2867CYIOyeheywsCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29uc3Qgbm9fcmVzdWx0ID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICBub191cmwsXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgZXhwaXJlc19pbjogMzAsXG4gICAgICBpc19pbnN0YW50OiBmYWxzZSxcbiAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RfaWQsXG4gICAgICBvcHRpb246IG9wdC50b1N0cmluZygpLFxuICAgICAgcHJpY2U6IHByaWNlLFxuICAgICAgc2hpcHBpbmdfYWRkcmVzc19pZDogc2hpcHBpbmdfYWRkcmVzcyxcbiAgICAgIHJlY2VpcHRfY29uZmlnX2lkOiBudWxsLFxuICAgICAgcmVxdWVzdF9rZXk6IHJfcSxcbiAgICAgIGlzX2tlZXBfb25fZGVmZXJyZWQ6IGZhbHNlLFxuICAgICAgc2hpcHBpbmdfbWVtbzoge1xuICAgICAgICBhc2tfaWQ6IG51bGwsXG4gICAgICAgIGJpZF9pZDogbnVsbCxcbiAgICAgICAgaXNfZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgc2hpcHBpbmdfbWVtb190eXBlOiAwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCLsmpTssq3sgqztla0g7JeG7J2MXCIsXG4gICAgICAgIHByZXNldF9kaXNwbGF5X3R5cGU6IFwic2VsZWN0YWJsZVwiLFxuICAgICAgICB2aWV3X3R5cGVfdmFsaWRhdGlvbjoge30sXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJVc2VyLUFnZW50XCI6XG4gICAgICAgICAgXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTE0LjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgICAgICAgLi4ua3JlYW1fYXBpX2hlYWRlcnMsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgUmVmZXJlcjogYGh0dHBzOi8va3JlYW0uY28ua3Ivc2VsbC8ke3Byb2R1Y3RfaWR9P3NpemU9JHtvcHR9YCxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIHJldHVybiBub19yZXN1bHQuZGF0YTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0X25ld19ycV9rZXkoKSB7XG4gIGNvbnN0IHIgPSBhd2FpdCBheGlvcy5nZXQoXCJodHRwczovL2tyZWFtLmNvLmtyXCIsIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIlVzZXItQWdlbnRcIjpcbiAgICAgICAgXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTE0LjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgY29va2llX2xpc3QgPSByLmhlYWRlcnNbXCJzZXQtY29va2llXCJdO1xuICBjb25zdCBkaWQgPSBjb29raWVfbGlzdC5maWx0ZXIoKHIpID0+IHIuaW5jbHVkZXMoXCJkaWRcIikpWzBdO1xuICBjb25zdCBmX2RpZCA9IGRpZC5zcGxpdChcIj1cIilbMV0uc3BsaXQoXCI7XCIpWzBdO1xuICByZXR1cm4gZl9kaWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja19hdXRoKHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3Qgcl9xID0gYXdhaXQgZ2V0X25ld19ycV9rZXkoKTtcbiAgY29uc3Qga3JlYW1fYXBpX2hlYWRlcnMgPSBrcmVhbV9hcGkoKTtcbiAgYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2tyZWFtLmNvLmtyL2FwaS91c2Vycy9tZT9yZXF1ZXN0X2tleT0ke3JfcX1gLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgXCJVc2VyLUFnZW50XCI6XG4gICAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgICAuLi5rcmVhbV9hcGlfaGVhZGVycyxcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRfZmlyc3RfZGF0YShcbiAgdG9rZW46IHN0cmluZyxcbiAgcGFnZV9udW06IG51bWJlcixcbiAgc2VhcmNoX3R5cGU6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHJfcSA9IGF3YWl0IGdldF9uZXdfcnFfa2V5KCk7XG4gIGNvbnN0IGtyZWFtX2FwaV9oZWFkZXJzID0ga3JlYW1fYXBpKCk7XG5cbiAgY29uc3QgdF91cmwgPSBgaHR0cHM6Ly9rcmVhbS5jby5rci9hcGkvcC90YWJzL2FsbGA7XG5cbiAgbGV0IHBhcmFtczogYW55ID0ge1xuICAgIHJlcXVlc3Rfa2V5OiByX3EsXG4gICAgY3Vyc29yOiBwYWdlX251bSxcbiAgICBzb3J0OiBzZWFyY2hfdHlwZSxcbiAgfTtcblxuICBpZiAoc2VhcmNoX3R5cGUgPT09IFwicG9wdWxhcml0eV93aXRob3V0X3RyYWRpbmdcIikge1xuICAgIHBhcmFtcyA9IHtcbiAgICAgIHJlcXVlc3Rfa2V5OiByX3EsXG4gICAgICBjdXJzb3I6IHBhZ2VfbnVtLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBmX3Jlc3VsdCA9IGF3YWl0IGF4aW9zLmdldCh0X3VybCwge1xuICAgIHBhcmFtczogcGFyYW1zLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiVXNlci1BZ2VudFwiOlxuICAgICAgICBcIk1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTQuMC4wLjAgU2FmYXJpLzUzNy4zNlwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogYGFwcGxpY2F0aW9uL2pzb25gLFxuICAgICAgLi4ua3JlYW1fYXBpX2hlYWRlcnMsXG4gICAgICBSZWZlcmVyOiBcImh0dHBzOi8va3JlYW0uY28ua3Ivc2VhcmNoXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBmX2l0ZW1zID0gZl9yZXN1bHQuZGF0YVtcIml0ZW1zXCJdO1xuXG4gIGNvbnN0IGZfcl9kID0gZl9pdGVtcy5tYXAoKGQpID0+IHtcbiAgICBjb25zdCBwcmRfZCA9IGRbXCJwcm9kdWN0XCJdO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICDsg4HtkojrsojtmLg6IHByZF9kW1wicmVsZWFzZVwiXVtcImlkXCJdLFxuICAgICAgICDsg4HtkojrqoU6IHByZF9kW1wicmVsZWFzZVwiXVtcInRyYW5zbGF0ZWRfbmFtZVwiXSxcbiAgICAgICAg7Lus65+sOiBwcmRfZFtcInJlbGVhc2VcIl1bXCJjb2xvcndheVwiXSxcbiAgICAgICAg66eB7YGsOiBgaHR0cHM6Ly9rcmVhbS5jby5rci9wcm9kdWN0cy8ke3ByZF9kW1wicmVsZWFzZVwiXVtcImlkXCJdfWAsXG4gICAgICAgIOuqqOuNuOuqhTogcHJkX2RbXCJyZWxlYXNlXCJdW1wic3R5bGVfY29kZVwiXSxcbiAgICAgICAg7IKs7J207KaIOiBcIlwiLFxuICAgICAgICDrsJzrp6TqsIA6IHByZF9kW1wicmVsZWFzZVwiXVtcIm9yaWdpbmFsX3ByaWNlX3dpdGhfY3VycmVuY3lcIl0sXG4gICAgICAgIOydvO2MkO2Pieq3oOqwgF816rCcOiBcIlwiLFxuICAgICAgICDrs7TtjJDtj4nqt6DqsIBfNeqwnDogXCJcIixcbiAgICAgICAg7J287YyQ7Y+J6reg6rCAXzEw6rCcOiBcIlwiLFxuICAgICAgICDrs7TtjJDtj4nqt6DqsIBfMTDqsJw6IFwiXCIsXG4gICAgICAgIFwi7IiY7KeR67KU7JyEL+uCoOynnOuylOychF8xMOqwnFwiOiBcIlwiLFxuICAgICAgICBcIuyImOynkeuylOychC/rgqDsp5zrspTsnIRfNTDqsJxcIjogXCJcIixcbiAgICAgICAg7LWc7KCAX+uztO2MkOqwgDogXCJcIixcbiAgICAgICAg7LWc7KCAXzk17KCQX+uztO2MkOqwgDogXCJcIixcbiAgICAgICAg7LWc7KCAX+ydvO2MkOqwgDogXCJcIixcbiAgICAgICAg7KaJ7IucX+2MkOunpOqwgDogXCJcIixcbiAgICAgIH07XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZl9yX2QuZmlsdGVyKChkKSA9PiBkICE9PSBudWxsKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9maXJzdF9kYXRhX3dpdGhfa3dkKFxuICB0b2tlbjogc3RyaW5nLFxuICBwYWdlX251bTogbnVtYmVyLFxuICBrd2Q6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHJfcSA9IGF3YWl0IGdldF9uZXdfcnFfa2V5KCk7XG4gIGNvbnN0IGtyZWFtX2FwaV9oZWFkZXJzID0ga3JlYW1fYXBpKCk7XG5cbiAgY29uc3QgdF91cmwgPSBgaHR0cHM6Ly9rcmVhbS5jby5rci9hcGkvc2UvcHJvZHVjdHMvP2tleXdvcmQ9JHtrd2R9JnJlcXVlc3Rfa2V5PSR7cl9xfSZ0YWI9cHJvZHVjdHMmY3Vyc29yPSR7cGFnZV9udW19YDtcblxuICAvLyBjb25zdCBwYXJhbXM6IGFueSA9IHtcbiAgLy8gICByZXF1ZXN0X2tleTogcl9xLFxuICAvLyAgIGN1cnNvcjogcGFnZV9udW0sXG4gIC8vICAgdGFiOiBcInByb2R1Y3RzXCIsXG4gIC8vICAga2V5d29yZDoga3dkLFxuICAvLyB9O1xuXG4gIGNvbnN0IGZfcmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KHRfdXJsLCB7XG4gICAgLy8gcGFyYW1zOiBwYXJhbXMsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJVc2VyLUFnZW50XCI6XG4gICAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBgYXBwbGljYXRpb24vanNvbmAsXG4gICAgICAuLi5rcmVhbV9hcGlfaGVhZGVycyxcbiAgICAgIFJlZmVyZXI6IFwiaHR0cHM6Ly9rcmVhbS5jby5rci9zZWFyY2hcIixcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGZfaXRlbXMgPSBmX3Jlc3VsdC5kYXRhW1wiaXRlbXNcIl07XG5cbiAgY29uc3QgZl9yX2QgPSBmX2l0ZW1zLm1hcCgoZCkgPT4ge1xuICAgIGNvbnN0IHByZF9kID0gZFtcInByb2R1Y3RcIl07XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIOyDge2SiOuyiO2YuDogcHJkX2RbXCJyZWxlYXNlXCJdW1wiaWRcIl0sXG4gICAgICAgIOyDge2SiOuqhTogcHJkX2RbXCJyZWxlYXNlXCJdW1widHJhbnNsYXRlZF9uYW1lXCJdLFxuICAgICAgICDsu6zrn6w6IHByZF9kW1wicmVsZWFzZVwiXVtcImNvbG9yd2F5XCJdLFxuICAgICAgICDrp4Htgaw6IGBodHRwczovL2tyZWFtLmNvLmtyL3Byb2R1Y3RzLyR7cHJkX2RbXCJyZWxlYXNlXCJdW1wiaWRcIl19YCxcbiAgICAgICAg66qo642466qFOiBwcmRfZFtcInJlbGVhc2VcIl1bXCJzdHlsZV9jb2RlXCJdLFxuICAgICAgICDsgqzsnbTspog6IFwiXCIsXG4gICAgICAgIOuwnOunpOqwgDogcHJkX2RbXCJyZWxlYXNlXCJdW1wib3JpZ2luYWxfcHJpY2Vfd2l0aF9jdXJyZW5jeVwiXSxcbiAgICAgICAg7J287YyQ7Y+J6reg6rCAXzXqsJw6IFwiXCIsXG4gICAgICAgIOuztO2MkO2Pieq3oOqwgF816rCcOiBcIlwiLFxuICAgICAgICDsnbztjJDtj4nqt6DqsIBfMTDqsJw6IFwiXCIsXG4gICAgICAgIOuztO2MkO2Pieq3oOqwgF8xMOqwnDogXCJcIixcbiAgICAgICAgXCLsiJjsp5HrspTsnIQv64Kg7Kec67KU7JyEXzEw6rCcXCI6IFwiXCIsXG4gICAgICAgIFwi7IiY7KeR67KU7JyEL+uCoOynnOuylOychF81MOqwnFwiOiBcIlwiLFxuICAgICAgICDstZzsoIBf67O07YyQ6rCAOiBcIlwiLFxuICAgICAgICDstZzsoIBfOTXsoJBf67O07YyQ6rCAOiBcIlwiLFxuICAgICAgICDstZzsoIBf7J287YyQ6rCAOiBcIlwiLFxuICAgICAgICDsponsi5xf7YyQ66ek6rCAOiBcIlwiLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmX3JfZC5maWx0ZXIoKGQpID0+IGQgIT09IG51bGwpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X2ZpbmFsX2RhdGEodG9rZW46IHN0cmluZywgcHJvZHVjdF9pZDogc3RyaW5nKSB7XG4gIGNvbnN0IHJfcSA9IGF3YWl0IGdldF9uZXdfcnFfa2V5KCk7XG4gIGNvbnN0IGtyZWFtX2FwaV9oZWFkZXJzID0ga3JlYW1fYXBpKCk7XG5cbiAgY29uc3QgdF91cmwgPSBgaHR0cHM6Ly9rcmVhbS5jby5rci9hcGkvcC9wcm9kdWN0cy8ke3Byb2R1Y3RfaWR9P3JlcXVlc3Rfa2V5PSR7cl9xfWA7XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KHRfdXJsLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgXCJVc2VyLUFnZW50XCI6XG4gICAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgICAuLi5rcmVhbV9hcGlfaGVhZGVycyxcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHNhbGVzX29wdGlvbnMgPSByZXMuZGF0YVtcInNhbGVzX29wdGlvbnNcIl07XG5cbiAgaWYgKCFzYWxlc19vcHRpb25zKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAg7IKs7J207KaIOiBcIlhcIixcbiAgICAgICAg7LWc7KCAX+uztO2MkOqwgDogXCJYXCIsXG4gICAgICAgIOy1nOyggF85NeygkF/rs7TtjJDqsIA6IFwiWFwiLFxuICAgICAgICDstZzsoIBf7J287YyQ6rCAOiBcIlhcIixcbiAgICAgICAg7KaJ7IucX+2MkOunpOqwgDogXCJYXCIsXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICBsZXQgcmV0dXJuX2RhdGEgPSBbXTtcblxuICBmb3IgKGxldCBkIG9mIHNhbGVzX29wdGlvbnMpIHtcbiAgICBsZXQgZXh0cmFfZGF0ID0gYXdhaXQgZ2V0X29wdGlvbl9zYWxlc19kYXRhKHRva2VuLCBwcm9kdWN0X2lkLCBkW1wib3B0aW9uXCJdKTtcblxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcblxuICAgIGxldCBtZWFuNU46IG51bWJlciB8IG51bGw7XG4gICAgbGV0IG1lYW41QjogbnVtYmVyIHwgbnVsbDtcblxuICAgIGxldCBtZWFuMTBOOiBudW1iZXIgfCBudWxsO1xuICAgIGxldCBtZWFuMTBCOiBudW1iZXIgfCBudWxsO1xuXG4gICAgbGV0IG51bURhdGUxMDogbnVtYmVyIHwgbnVsbDtcbiAgICBsZXQgbnVtRGF0ZTUwOiBudW1iZXIgfCBudWxsO1xuXG4gICAgaWYgKGV4dHJhX2RhdC5sZW5ndGggPT09IDApIHtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgTWF0aC5jZWlsKFxuICAgICAgICBNYXRoLmFicyhcbiAgICAgICAgICAodG9kYXkgYXMgYW55KSAtIChuZXcgRGF0ZShleHRyYV9kYXRbMF1bXCJkYXRlX2NyZWF0ZWRcIl0pIGFzIGFueSlcbiAgICAgICAgKSAvXG4gICAgICAgICAgKDEwMDAgKiA2MCAqIDYwICogMjQpXG4gICAgICApID4gMzBcbiAgICApIHtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGV4dHJhX2RhdC5sZW5ndGggPj0gNSkge1xuICAgICAgICBjb25zdCBwcmljZXNfNV9OID0gZXh0cmFfZGF0LmZpbHRlcihcbiAgICAgICAgICAoZCwgaSkgPT4gaSA8IDUgJiYgIWRbXCJpc19pbW1lZGlhdGVfZGVsaXZlcnlfaXRlbVwiXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwcmljZXNfNV9OLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBtZWFuNU4gPSBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgcHJpY2VzXzVfTi5yZWR1Y2UoKHRvdGFsLCBuZXh0KSA9PiB0b3RhbCArIG5leHRbXCJwcmljZVwiXSwgMCkgL1xuICAgICAgICAgICAgICBwcmljZXNfNV9OLmxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmljZXNfNV9CID0gZXh0cmFfZGF0LmZpbHRlcihcbiAgICAgICAgICAoZCwgaSkgPT4gaSA8IDEwICYmIGRbXCJpc19pbW1lZGlhdGVfZGVsaXZlcnlfaXRlbVwiXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwcmljZXNfNV9CLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBtZWFuNUIgPSBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgcHJpY2VzXzVfQi5yZWR1Y2UoKHRvdGFsLCBuZXh0KSA9PiB0b3RhbCArIG5leHRbXCJwcmljZVwiXSwgMCkgL1xuICAgICAgICAgICAgICBwcmljZXNfNV9CLmxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGV4dHJhX2RhdC5sZW5ndGggPj0gMTApIHtcbiAgICAgICAgY29uc3QgcHJpY2VzXzEwX04gPSBleHRyYV9kYXQuZmlsdGVyKFxuICAgICAgICAgIChkLCBpKSA9PiBpIDwgMTAgJiYgIWRbXCJpc19pbW1lZGlhdGVfZGVsaXZlcnlfaXRlbVwiXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwcmljZXNfMTBfTi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbWVhbjEwTiA9IE1hdGgucm91bmQoXG4gICAgICAgICAgICBwcmljZXNfMTBfTi5yZWR1Y2UoKHRvdGFsLCBuZXh0KSA9PiB0b3RhbCArIG5leHRbXCJwcmljZVwiXSwgMCkgL1xuICAgICAgICAgICAgICBwcmljZXNfMTBfTi5sZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJpY2VzXzEwX0IgPSBleHRyYV9kYXQuZmlsdGVyKFxuICAgICAgICAgIChkLCBpKSA9PiBpIDwgMTAgJiYgZFtcImlzX2ltbWVkaWF0ZV9kZWxpdmVyeV9pdGVtXCJdXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHByaWNlc18xMF9CLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBtZWFuMTBCID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgIHByaWNlc18xMF9CLnJlZHVjZSgodG90YWwsIG5leHQpID0+IHRvdGFsICsgbmV4dFtcInByaWNlXCJdLCAwKSAvXG4gICAgICAgICAgICAgIHByaWNlc18xMF9CLmxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaWZmXzEwID0gTWF0aC5jZWlsKFxuICAgICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgICAgKHRvZGF5IGFzIGFueSkgLSAobmV3IERhdGUoZXh0cmFfZGF0WzldW1wiZGF0ZV9jcmVhdGVkXCJdKSBhcyBhbnkpXG4gICAgICAgICAgKSAvXG4gICAgICAgICAgICAoMTAwMCAqIDYwICogNjAgKiAyNClcbiAgICAgICAgKTtcbiAgICAgICAgbnVtRGF0ZTEwID0gMzAgLyBkaWZmXzEwO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXh0cmFfZGF0Lmxlbmd0aCA+PSA1MCkge1xuICAgICAgICBjb25zdCBkaWZmXzUwID0gTWF0aC5jZWlsKFxuICAgICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgICAgKHRvZGF5IGFzIGFueSkgLSAobmV3IERhdGUoZXh0cmFfZGF0WzQ5XVtcImRhdGVfY3JlYXRlZFwiXSkgYXMgYW55KVxuICAgICAgICAgICkgL1xuICAgICAgICAgICAgKDEwMDAgKiA2MCAqIDYwICogMjQpXG4gICAgICAgICk7XG4gICAgICAgIG51bURhdGU1MCA9IDUwIC8gZGlmZl81MDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm5fZGF0YS5wdXNoKHtcbiAgICAgIOyCrOydtOymiDogZFtcIm9wdGlvblwiXSxcbiAgICAgIOydvO2MkO2Pieq3oOqwgF816rCcOiBNYXRoLnJvdW5kKG1lYW41TiAvIDEwMDApICogMTAwMCxcbiAgICAgIOuztO2MkO2Pieq3oOqwgF816rCcOiBNYXRoLnJvdW5kKG1lYW41QiAvIDEwMDApICogMTAwMCxcbiAgICAgIOydvO2MkO2Pieq3oOqwgF8xMOqwnDogTWF0aC5yb3VuZChtZWFuMTBOIC8gMTAwMCkgKiAxMDAwLFxuICAgICAg67O07YyQ7Y+J6reg6rCAXzEw6rCcOiBNYXRoLnJvdW5kKG1lYW4xMEIgLyAxMDAwKSAqIDEwMDAsXG4gICAgICBcIuyImOynkeuylOychC/rgqDsp5zrspTsnIRfMTDqsJxcIjogTWF0aC5yb3VuZChudW1EYXRlMTAgKiAxMCkgLyAxMCxcbiAgICAgIFwi7IiY7KeR67KU7JyEL+uCoOynnOuylOychF81MOqwnFwiOiBNYXRoLnJvdW5kKG51bURhdGU1MCAqIDEwKSAvIDEwLFxuICAgICAg7LWc7KCAX+uztO2MkOqwgDogZFtcImxvd2VzdF8xMDBcIl0sXG4gICAgICDstZzsoIBfOTXsoJBf67O07YyQ6rCAOiBkW1wibG93ZXN0Xzk1XCJdLFxuICAgICAg7LWc7KCAX+ydvO2MkOqwgDogZFtcImxvd2VzdF9ub3JtYWxcIl0sXG4gICAgICDsponsi5xf7YyQ66ek6rCAOiBkW1wiaGlnaGVzdF9iaWRcIl0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCBzbGVlcCgyMDAwKTtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5fZGF0YTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9vcHRpb25fc2FsZXNfZGF0YShcbiAgdG9rZW46IHN0cmluZyxcbiAgcHJvZHVjdF9pZDogc3RyaW5nLFxuICBvcHRpb246IG51bWJlclxuKSB7XG4gIGNvbnN0IHRvdGFsID0gW107XG5cbiAgY29uc3Qgcl9xID0gYXdhaXQgZ2V0X25ld19ycV9rZXkoKTtcbiAgY29uc3Qga3JlYW1fYXBpX2hlYWRlcnMgPSBrcmVhbV9hcGkoKTtcblxuICBjb25zdCB0X3VybCA9IGBodHRwczovL2tyZWFtLmNvLmtyL2FwaS9wL3Byb2R1Y3RzLyR7cHJvZHVjdF9pZH0vJHtvcHRpb259L3NhbGVzYDtcblxuICBsZXQgZ28gPSB0cnVlO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgMjsgaSsrKSB7XG4gICAgY29uc29sZS5sb2coaSk7XG5cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBjdXJzb3I6IGksXG4gICAgICBwZXJfcGFnZTogNzAsXG4gICAgICBzb3J0OiBcImRhdGVfY3JlYXRlZFtkZXNjXVwiLFxuICAgICAgcmVxdWVzdF9rZXk6IHJfcSxcbiAgICB9O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmX3Jlc3VsdCA9IGF3YWl0IGF4aW9zLmdldCh0X3VybCwge1xuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiVXNlci1BZ2VudFwiOlxuICAgICAgICAgICAgICBcIk1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTQuMC4wLjAgU2FmYXJpLzUzNy4zNlwiLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogYGFwcGxpY2F0aW9uL2pzb25gLFxuICAgICAgICAgICAgLi4ua3JlYW1fYXBpX2hlYWRlcnMsXG4gICAgICAgICAgICBSZWZlcmVyOiBgaHR0cHM6Ly9rcmVhbS5jby5rci9wcm9kdWN0cy8ke3Byb2R1Y3RfaWR9YCxcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZfaXRlbXMgPSBmX3Jlc3VsdC5kYXRhW1wiaXRlbXNcIl07XG4gICAgICAgIHRvdGFsLnB1c2goLi4uZl9pdGVtcyk7XG4gICAgICAgIGF3YWl0IHNsZWVwKDEwMDApO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChlLnJlc3BvbnNlLmRhdGFbXCJtZXNzYWdlXCJdLmluY2x1ZGVzKFwid2FzIG5vdCBmb3VuZFwiKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS5yZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIGdvID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXNUZXh0LmluY2x1ZGVzKFwiTUFOWVwiKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS5yZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiMeu2hCDrjIDquLAuLi5cIik7XG5cbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDYwMDAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBzbGVlcCgyMDAwKTtcblxuICAgIGlmICghZ28pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG90YWw7XG59XG5cbmNvbnN0IHNsZWVwID0gKGRlbGF5OiBudW1iZXIpID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJERVZJQ0VfSURTIiwia3JlYW1fYXBpIiwidG9kYXkiLCJEYXRlIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwibG9naW4iLCJpZCIsInBzd2QiLCJyX3EiLCJnZXRfbmV3X3JxX2tleSIsImxvZ2luX3VybCIsImRhdGEiLCJlbWFpbCIsInBhc3N3b3JkIiwia3JlYW1fYXBpX2hlYWRlcnMiLCJyZXN1bHQiLCJwb3N0IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJSZWZlcmVyIiwiYWNjZXNzX3Rva2VuIiwiY29uc29sZSIsImxvZyIsImlsYmFuX3JlcSIsInRva2VuIiwicHJvZHVjdF9pZCIsIm9wdCIsInByaWNlIiwibm9fdXJsIiwic2hpcF9yZXN1bHQiLCJnZXQiLCJBdXRob3JpemF0aW9uIiwic2hpcHBpbmdfYWRkcmVzcyIsIm5vX3Jlc3VsdCIsImV4cGlyZXNfaW4iLCJpc19pbnN0YW50Iiwib3B0aW9uIiwidG9TdHJpbmciLCJzaGlwcGluZ19hZGRyZXNzX2lkIiwicmVjZWlwdF9jb25maWdfaWQiLCJyZXF1ZXN0X2tleSIsImlzX2tlZXBfb25fZGVmZXJyZWQiLCJzaGlwcGluZ19tZW1vIiwiYXNrX2lkIiwiYmlkX2lkIiwiaXNfZGVmYXVsdCIsInNoaXBwaW5nX21lbW9fdHlwZSIsImRlc2NyaXB0aW9uIiwicHJlc2V0X2Rpc3BsYXlfdHlwZSIsInZpZXdfdHlwZV92YWxpZGF0aW9uIiwiciIsImNvb2tpZV9saXN0IiwiZGlkIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJmX2RpZCIsInNwbGl0IiwiY2hlY2tfYXV0aCIsImdldF9maXJzdF9kYXRhIiwicGFnZV9udW0iLCJzZWFyY2hfdHlwZSIsInRfdXJsIiwicGFyYW1zIiwiY3Vyc29yIiwic29ydCIsImZfcmVzdWx0IiwiZl9pdGVtcyIsImZfcl9kIiwibWFwIiwiZCIsInByZF9kIiwi7IOB7ZKI67KI7Zi4Iiwi7IOB7ZKI66qFIiwi7Lus65+sIiwi66eB7YGsIiwi66qo642466qFIiwi7IKs7J207KaIIiwi67Cc66ek6rCAIiwi7J287YyQ7Y+J6reg6rCAXzXqsJwiLCLrs7TtjJDtj4nqt6DqsIBfNeqwnCIsIuydvO2MkO2Pieq3oOqwgF8xMOqwnCIsIuuztO2MkO2Pieq3oOqwgF8xMOqwnCIsIuy1nOyggF/rs7TtjJDqsIAiLCLstZzsoIBfOTXsoJBf67O07YyQ6rCAIiwi7LWc7KCAX+ydvO2MkOqwgCIsIuymieyLnF/tjJDrp6TqsIAiLCJnZXRfZmlyc3RfZGF0YV93aXRoX2t3ZCIsImt3ZCIsImdldF9maW5hbF9kYXRhIiwicmVzIiwic2FsZXNfb3B0aW9ucyIsInJldHVybl9kYXRhIiwiZXh0cmFfZGF0IiwiZ2V0X29wdGlvbl9zYWxlc19kYXRhIiwibWVhbjVOIiwibWVhbjVCIiwibWVhbjEwTiIsIm1lYW4xMEIiLCJudW1EYXRlMTAiLCJudW1EYXRlNTAiLCJjZWlsIiwiYWJzIiwicHJpY2VzXzVfTiIsImkiLCJyb3VuZCIsInJlZHVjZSIsInRvdGFsIiwibmV4dCIsInByaWNlc181X0IiLCJwcmljZXNfMTBfTiIsInByaWNlc18xMF9CIiwiZGlmZl8xMCIsImRpZmZfNTAiLCJwdXNoIiwic2xlZXAiLCJnbyIsInBlcl9wYWdlIiwiZSIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImRlbGF5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/kream_axios.ts\n");

/***/ }),

/***/ "(api)/./pages/api/check_auth.ts":
/*!*********************************!*\
  !*** ./pages/api/check_auth.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_kream_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/kream_axios */ \"(api)/./lib/kream_axios.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_kream_axios__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_kream_axios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    const { token } = JSON.parse(req.body);\n    try {\n        await (0,_lib_kream_axios__WEBPACK_IMPORTED_MODULE_0__.check_auth)(token);\n        res.status(200).json({\n            success: true,\n            data: \"true\"\n        });\n    } catch (e) {\n        res.status(200).json({\n            success: false,\n            data: \"failed\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2hlY2tfYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUM4RDtBQVkvQyxlQUFlQyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQWtDO0lBRWxDLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdDLEtBQUtDLEtBQUssQ0FBQ0osSUFBSUssSUFBSTtJQUVyQyxJQUFJO1FBQ0YsTUFBTVAsNERBQVVBLENBQUNJO1FBQ2pCRCxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBTUMsTUFBTTtRQUFPO0lBQ3JELEVBQUUsT0FBT0MsR0FBRztRQUNWVCxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsTUFBTTtRQUFTO0lBQ3hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvY2hlY2tfYXV0aC50cz80NWE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyBjaGVja19hdXRoLCBpbGJhbl9yZXEgfSBmcm9tIFwiLi4vLi4vbGliL2tyZWFtX2F4aW9zXCI7XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlRGF0YSA9IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIFByb2ZpZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgcHN3ZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8UmVzcG9uc2VEYXRhPlxuKSB7XG4gIGNvbnN0IHsgdG9rZW4gfSA9IEpTT04ucGFyc2UocmVxLmJvZHkpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgY2hlY2tfYXV0aCh0b2tlbik7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBcInRydWVcIiB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGRhdGE6IFwiZmFpbGVkXCIgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjaGVja19hdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInRva2VuIiwiSlNPTiIsInBhcnNlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/check_auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck_auth&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck_auth.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();